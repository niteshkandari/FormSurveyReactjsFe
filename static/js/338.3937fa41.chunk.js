"use strict";(self.webpackChunksurveyapp=self.webpackChunksurveyapp||[]).push([[338],{5338:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var r=t(5861),a=t(2982),s=t(885),u=t(7757),i=t.n(u),o=t(8096),c=t(5835),l=t(6151),d=t(3239),f=t(2791),h=t(8333),v=t(3875),m=t(7394);var p=t.p+"static/media/info.0fe8b217a8197908744a74829d60134c.svg";function x(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,t,r;return n=e,r=[{key:"validator",value:function(e){var n=e.name,t=e.email,r=e.address,a=e.phoneNumber;return new Promise((function(e,s){""===n&&""===r&&""===r?s({val:!1,warning:"Fields cannot be empty"}):n.length>20?s({val:!1,warning:"Name should not exceed 20 characters"}):t.includes("@")?a.toString().length<8?s({val:!1,warning:"Please enter a valid phone number"}):isNaN(a)?s({val:!1,warning:"please enter correct phone number"}):e(!0):s({val:!1,warning:"Email address is not valid"})}))}}],(t=null)&&x(n.prototype,t),r&&x(n,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(),w=t(6860),b=t(9271),y=t(6214),Z=t(9658),j=t(5769),N=t(184);function k(){var e=f.useRef(0),n=(0,w.H)(),t=(0,b.$B)(),u=f.useState(!1),x=(0,s.Z)(u,2),k=x[0],q=x[1],z=f.useState([{question:"name",value:""},{question:"email",value:""},{question:"address",value:""},{question:"phoneNumber",value:""}]),F=(0,s.Z)(z,2),S=F[0],C=F[1],E=f.useState(S[e.current].question),H=(0,s.Z)(E,2),T=H[0],I=H[1],L=f.useState({show:!1,message:"",type:"success"}),P=(0,s.Z)(L,2),B=P[0],M=P[1];f.useEffect((function(){t.params.id&&D(t.params.id)}),[t.params.id]);var O=function(){var e=(0,r.Z)(i().mark((function e(r){var a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),a={name:S[0].value,email:S[1].value,address:S[2].value,phoneNumber:S[3].value},s=!1,e.next=5,g.validator(a).then((function(e){return s=!0===e})).catch((function(e){return M({show:!0,message:e.warning,type:"error"})}));case 5:if(s){e.next=8;break}return setTimeout((function(){M({show:!1,message:"",type:""})}),2e3),e.abrupt("return");case 8:if(!t.params.id){e.next=12;break}return n.updateForm({id:t.params.id,body:a}).then((function(e){console.log(e);var n=S;n.forEach((function(e){return e.value=""})),C(n),M({show:!0,message:"Form updated",type:"success"})})).catch((function(e){console.log(e)})),M({show:!1,message:"",type:""}),e.abrupt("return");case 12:n.createForm(a).then((function(e){M({show:!0,message:"Form submitted successfully",type:"success"}),setTimeout((function(){M({show:!1,message:"",type:"success"})}),2e3)})).catch((function(e){M({show:!0,message:"something went wrong",type:"error"}),setTimeout((function(){M({show:!1,message:"",type:"success"})}),2e3)})),C([{question:"name",value:""},{question:"email",value:""},{question:"address",value:""},{question:"phoneNumber",value:""}]);case 14:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),D=function(e){q(!0),n.getFormById(e).then(function(){var e=(0,r.Z)(i().mark((function e(n){var t,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n;case 4:t=e.sent,r=t.data,(a=S).forEach((function(e){e.value=r[e.question]})),C(a),q(!1);case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}))};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(y.Z,{open:B.show,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"center"},children:"success"===B.type?(0,N.jsx)(Z.Z,{severity:"success",sx:{width:"100%"},children:B.message}):(0,N.jsx)(Z.Z,{severity:"info",sx:{width:"100%"},children:B.message})},"topcenter"),(0,N.jsxs)("div",{className:"create-module",children:[(0,N.jsx)("div",{className:"creat-module-svg",children:(0,N.jsx)("img",{height:"400",width:"500",src:p})}),(0,N.jsxs)("form",{className:"form-box",onSubmit:O,children:[(0,N.jsx)("div",{className:"question-box",children:(0,N.jsx)(o.Z,{className:"auth-input-field",variant:"standard",children:(0,N.jsx)(c.Z,{className:"form-input-resp",style:{color:"black",fontSize:"30px"},placeholder:T,value:S[e.current].value,onChange:function(n){return function(n){var t=S[e.current],r=(0,a.Z)(S);t.value=n.target.value,r.splice(e.current,1,t),C((0,a.Z)(r))}(n)}})})}),(0,N.jsxs)("div",{className:"form-nxt-btn",children:[(0,N.jsxs)(l.Z,{variant:"outlined",style:{color:"white"},size:"large",onClick:function(){0!==e.current&&(e.current--,I(S[e.current].question))},children:["back ",(0,N.jsx)(m.Z,{})]}),(0,N.jsxs)(l.Z,{variant:"outlined",style:{color:"white"},size:"large",onClick:function(){e.current!==S.length-1&&(e.current++,I(S[e.current].question))},children:["next ",(0,N.jsx)(h.Z,{})]})]}),(0,N.jsx)("div",{className:"form-sbt-btn",children:(0,N.jsxs)(l.Z,{type:"submit",style:{color:"white"},children:["submit ",(0,N.jsx)(v.Z,{})]})})]})]}),(0,N.jsx)(j.Z,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:k,children:(0,N.jsx)(d.Z,{color:"inherit"})})]})}},7394:function(e,n,t){var r=t(5318);n.Z=void 0;var a=r(t(5649)),s=t(184),u=(0,a.default)((0,s.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");n.Z=u},8333:function(e,n,t){var r=t(5318);n.Z=void 0;var a=r(t(5649)),s=t(184),u=(0,a.default)((0,s.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");n.Z=u},3875:function(e,n,t){var r=t(5318);n.Z=void 0;var a=r(t(5649)),s=t(184),u=(0,a.default)((0,s.jsx)("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z"}),"TurnedIn");n.Z=u}}]);
//# sourceMappingURL=338.3937fa41.chunk.js.map